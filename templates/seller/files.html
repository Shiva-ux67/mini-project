{% extends "seller/base_seller.html" %}

{% block title %}My Uploads{% endblock %}

{% block content %}
<style>
    .file-card {
        background: white;
        border-radius: 12px;
        border: 1px solid #e2e8f0;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        padding: 24px;
        margin-bottom: 20px;
    }

    .file-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
    }

    .file-meta {
        font-size: 13px;
        color: #64748b;
    }

    .snippet-box {
        background: #f8fafc;
        padding: 12px;
        border-radius: 8px;
        font-family: 'Courier New', monospace;
        font-size: 13px;
        color: #334155;
        border: 1px solid #e2e8f0;
        word-break: break-all;
    }

    .grid-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
    }
</style>

<div class="card" style="border:none; box-shadow:none; padding:0; background:transparent;">
    <div style="margin-bottom: 24px;">
        <h3 style="font-size: 18px; color: #1e293b;">Submission History</h3>
        <p style="color: #64748b; font-size: 14px;">Encrypted records of your uploads.</p>
    </div>

    <div class="grid-container">
        {% for msg_id, msg in messages.items() %}
        <div class="file-card">
            <div class="file-header">
                <span style="font-weight: 700; color: #1e293b;">Record #{{ msg_id }}</span>
                <span class="file-meta">{{ msg.timestamp }}</span>
            </div>

            <div class="snippet-box">
                {{ msg.encrypted_content[:35] }}...
            </div>
        </div>
        {% else %}
        <div
            style="grid-column: 1 / -1; text-align: center; color: #94a3b8; padding: 40px; background: white; border-radius: 12px; border: 1px solid #e2e8f0;">
            No uploads found.
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}